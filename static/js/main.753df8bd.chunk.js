(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{21:function(t,e,n){t.exports={loginTitle:"Login_loginTitle__3WxRD",loginForm:"Login_loginForm__1CQHu",additional:"Login_additional__luoo0",loginBtn:"Login_loginBtn__2sjBL",loginCreate:"Login_loginCreate__8MHTt"}},22:function(t,e,n){t.exports={registerTitle:"Register_registerTitle__2A8Dv",registerForm:"Register_registerForm__3gvUW",additional:"Register_additional__3KsQR",registerBtn:"Register_registerBtn__31ydd",loginCreate:"Register_loginCreate__3orPP",backImage:"Register_backImage__216KV",backBtn:"Register_backBtn__3eEoA"}},30:function(t,e,n){t.exports={header:"Header_header__2MkCy",title:"Header_title__-ZE9x",loginStatus:"Header_loginStatus__FuNuL"}},5:function(t,e,n){t.exports={board:"Board_board__K7dH1",filters:"Board_filters__1Du4Q",search:"Board_search__3WvBE",sort:"Board_sort__2aRoG",sortText:"Board_sortText__hkAOn",sortImg:"Board_sortImg__lzcXW",sortOptions:"Board_sortOptions__cCtww",sortOption:"Board_sortOption__38pkf",sortOptionContent:"Board_sortOptionContent__1Omoo",additionalOpenSortImage:"Board_additionalOpenSortImage__3QmI8",additionalOpenSortOptions:"Board_additionalOpenSortOptions__1iUDE",lists:"Board_lists__RrLM0",list:"Board_list__2oCI1",listName:"Board_listName__XRUUF",listNameContent:"Board_listNameContent__RDD44",listNameContentInput:"Board_listNameContentInput__1It9o",listCreationDate:"Board_listCreationDate__2qYPy",listTaskTypes:"Board_listTaskTypes__27lyT",removeList:"Board_removeList__1P_Ik",boardAdd:"Board_boardAdd__DKmCy",boardAddImg:"Board_boardAddImg__2Al3l"}},6:function(t,e,n){t.exports={toDoList:"ToDoList_toDoList__3pDwD",title:"ToDoList_title__1D7ha",titleContent:"ToDoList_titleContent__mxjbD",tasks:"ToDoList_tasks__MKmtT",task:"ToDoList_task__1tDMt",taskCheckBox:"ToDoList_taskCheckBox__xyeld",taskCheckBoxEmpty:"ToDoList_taskCheckBoxEmpty__27Jxs",taskCheckBoxActive:"ToDoList_taskCheckBoxActive__36Phw",taskTitle:"ToDoList_taskTitle__1utlq",taskTitleContent:"ToDoList_taskTitleContent__2l3PJ",taskTitleInput:"ToDoList_taskTitleInput__ei-0G",tasksActionsBtns:"ToDoList_tasksActionsBtns__K3fVq",tasksCancelBtn:"ToDoList_tasksCancelBtn__1Iqh2",tasksAddBtn:"ToDoList_tasksAddBtn__251ML",toDoListActionsBtns:"ToDoList_toDoListActionsBtns__31MLb",toDoListCancelBtn:"ToDoList_toDoListCancelBtn__2WFrd",toDoListSaveBtn:"ToDoList_toDoListSaveBtn__2yoIN"}},83:function(t,e,n){},84:function(t,e,n){"use strict";n.r(e);var s,a,i=n(1),o=n.n(i),c=n(26),r=n.n(c),u=n(23),d=n(3),l=n(7),j=n(14),b=n(27),O=n(28),h=O.a.div(s||(s=Object(b.a)(["\n    background-color: ",";\n    min-width: 400px;\n    min-height: 500px;\n    width: ",";\n    height: ",";\n    justify-self: center;\n    align-self: center;\n    display: grid;\n    grid-template-columns: ",";\n    grid-template-rows: ",";\n"])),(function(t){return t.backgroundColor}),(function(t){return t.width}),(function(t){return t.height}),(function(t){return t.columns}),(function(t){return t.rows})),p=n(21),_=n.n(p),m=n(0),g=function(t){var e=Object(i.useState)(""),n=Object(j.a)(e,2),s=n[0],a=n[1],o=Object(i.useState)(""),c=Object(j.a)(o,2),r=c[0],d=c[1];return Object(m.jsxs)("div",{className:_.a.loginForm,children:[Object(m.jsx)("div",{children:Object(m.jsx)("input",{value:s,type:"text",name:"userName",placeholder:"Email or Username",onChange:function(t){return a(t.target.value)}})}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{value:r,component:"input",type:"password",name:"password",placeholder:"Password",onChange:function(t){return d(t.target.value)}})}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){return t.getUser(s,r)},className:_.a.loginBtn,children:"Login"})}),Object(m.jsx)("div",{children:Object(m.jsx)("span",{className:_.a.additional,children:"or"})}),Object(m.jsx)("div",{children:Object(m.jsx)(u.b,{to:"/auth/register",className:_.a.loginCreate,children:"Create an account"})})]})},f=function(t){return Object(m.jsxs)(h,{backgroundColor:"#2D2D2D",columns:"100%",rows:"3fr 8fr",children:[Object(m.jsx)("div",{className:_.a.loginTitle,children:"Login"}),Object(m.jsx)(g,{getUser:t.getUser})]})},x=n(2),L=n(29),k=L.create({baseURL:"https://recruitment.ultimate.systems/"}),v=function(t,e){return k.post("auth/local",{identifier:t,password:e}).then((function(t){return t.data}))},C=function(t,e,n){return k.post("/auth/local/register",{username:t,email:e,password:n}).then((function(t){return t.data}))},T="SET_USER",y="SET_FETCHING",N="SET_IS_AUTH",D={isAuth:!1,user:"",isFetching:!1},B=function(t){return{type:T,body:t}},S=function(t){return{type:y,body:t}},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T:return Object(x.a)(Object(x.a)({},t),{},{user:e.body,isAuth:!0});case y:return Object(x.a)(Object(x.a)({},t),{},{isFetching:e.body});case N:return Object(x.a)(Object(x.a)({},t),{},{isAuth:e.body});default:return t}},A=function(t){return{isAuth:t.user.isAuth}},w=function(t){return Object(l.b)(A)((function(e){return e.isAuth?Object(m.jsx)(d.a,{to:"/board"}):Object(m.jsx)(t,Object(x.a)({},e))}))},E=n(8),F=Object(E.c)(w,Object(l.b)((function(t){return{user:t.user.user,isAuth:t.user.isAuth,isFetching:t.user.isFetching}}),{getUser:function(t,e){return function(n){n(S(!0)),v(t,e).then((function(t){"jwt"in t&&(localStorage.setItem("token",t.jwt),n(B(t.user.username))),n(S(!1))}))}}}))((function(t){return Object(m.jsx)(f,{isFetching:t.isFetching,isAuth:t.isAuth,user:t.user,getUser:t.getUser})})),U=n(22),R=n.n(U),P=function(t){var e=Object(i.useState)(""),n=Object(j.a)(e,2),s=n[0],a=n[1],o=Object(i.useState)(""),c=Object(j.a)(o,2),r=c[0],u=c[1],d=Object(i.useState)(""),l=Object(j.a)(d,2),b=l[0],O=l[1],h=Object(i.useState)(""),p=Object(j.a)(h,2),_=p[0],g=p[1];return Object(m.jsxs)("div",{className:R.a.registerForm,children:[Object(m.jsx)("div",{children:Object(m.jsx)("input",{onChange:function(t){a(t.target.value)},value:s,type:"text",name:"userName",placeholder:"Username"})}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{onChange:function(t){u(t.target.value)},value:r,type:"text",name:"email",placeholder:"Email"})}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{onChange:function(t){O(t.target.value)},value:b,type:"password",name:"password",placeholder:"Password"})}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{onChange:function(t){g(t.target.value)},value:_,type:"password",name:"repeatPassword",placeholder:"Repeat Password"})}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){!function(e,n,s,a){s===a&&t.createUser(e,n,s)}(s,r,b,_)},className:R.a.registerBtn,children:"Create"})})]})},H=function(t){var e=Object(d.g)();return Object(m.jsxs)(h,{backgroundColor:"#2D2D2D",columns:"100%",rows:"1fr 2fr 8fr",children:[Object(m.jsx)("div",{className:R.a.backBtn,children:Object(m.jsx)("img",{onClick:function(){e.push("/auth/login")},alt:"",className:R.a.backImage,src:"/LeftArrow.png"})}),Object(m.jsx)("div",{className:R.a.registerTitle,children:"Create a new account"}),Object(m.jsx)(P,{createUser:t.createUser})]})},M=Object(E.c)(w,Object(l.b)((function(t){return{isAuth:t.user.isAuth,isFetching:t.user.isFetching}}),{createUser:function(t,e,n){return function(s){s(S(!0)),C(t,e,n).then((function(t){"jwt"in t&&(localStorage.setItem("token",t.jwt),s(B(t.user.username)),s(S(!1)))}))}}}))((function(t){return Object(m.jsx)(H,{isFetching:t.isFetching,isAuth:t.isAuth,createUser:t.createUser})})),J=function(){return Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:"/auth",children:Object(m.jsx)(d.a,{to:"/auth/login"})}),Object(m.jsx)(d.b,{exact:!0,path:"/auth/login",children:Object(m.jsx)(F,{})}),Object(m.jsx)(d.b,{exact:!0,path:"/auth/register",children:Object(m.jsx)(M,{})})]})},K=n(17),G=n(18),W=n(20),q=n(19),Q=function(t){return{isAuth:t.user.isAuth}},V=n(5),Y=n.n(V),z=n(6),X=n.n(z),Z=function(t){var e=function(e){t.setChangeTaskId(e)},n=function(n){return n.tasks.map((function(s){return Object(m.jsxs)("div",{className:X.a.task,children:[Object(m.jsx)("div",{className:X.a.taskCheckBox,onClick:function(){!function(e){e.isDone=!e.isDone;var n=JSON.parse(JSON.stringify(t.openList));t.setOpenList(n)}(s)},children:Object(m.jsx)("div",{className:"".concat(X.a.taskCheckBoxEmpty," ").concat(s.isDone&&X.a.taskCheckBoxActive)})}),Object(m.jsx)("div",{className:X.a.taskTitle,onClick:function(){return e(s.id)},children:t.changeTaskId===s.id?Object(m.jsx)("input",{type:"text",className:X.a.taskTitleInput,value:s.name,onChange:function(e){return function(e,n){var s=Object(x.a)({},t.openList);s.task.map((function(t){return t.id===e?t.name=n:t})),t.setOpenList(s)}(s.id,e.target.value)},autoFocus:!0,onBlur:function(){return e("")},placeholder:"Task name"}):Object(m.jsx)("div",{className:X.a.taskTitleContent,children:s.name})})]},"id"in s?s.id:"local".concat(n.tasks.indexOf(s)))}))};return Object(m.jsxs)("div",{className:X.a.toDoList,children:[Object(m.jsx)("div",{className:X.a.title,children:Object(m.jsx)("span",{className:X.a.titleContent,children:t.openList.name})}),Object(m.jsxs)("div",{className:X.a.tasks,children:[t.openList.task.length>0&&Object(m.jsx)(n,{tasks:t.openList.task}),t.newTaskStorage.length>0&&Object(m.jsx)(n,{tasks:t.newTaskStorage}),Object(m.jsxs)("div",{className:X.a.tasksActionsBtns,children:[Object(m.jsx)("button",{className:X.a.tasksCancelBtn,children:"CANCEL"}),Object(m.jsx)("button",{className:X.a.tasksAddBtn,onClick:function(){return function(){var e=Object(x.a)({},t.openList);e.task.push({name:"New task",isDone:!1}),t.setOpenList(e)}()},children:"ADD"})]})]}),Object(m.jsxs)("div",{className:X.a.toDoListActionsBtns,children:[Object(m.jsx)("button",{className:X.a.toDoListCancelBtn,onClick:function(){return t.setIsOpenList(!1),void t.setOpenList({})},children:"CANCEL"}),Object(m.jsx)("button",{className:X.a.toDoListSaveBtn,onClick:function(){return t.updateList(t.openList.id,t.openList),t.setIsOpenList(!1),void e("")},children:"SAVE"})]})]})},$=L.create({baseURL:"https://recruitment.ultimate.systems/",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),tt=function(t){return $.get("to-do-lists",{params:{_sort:t}}).then((function(t){return t.data}))},et=function(t,e){return $.put("to-do-lists/".concat(t),e).then((function(t){return t.data}))},nt=function(t){return $.post("to-do-lists/",t).then((function(t){return t.data}))},st=function(t){return $.delete("to-do-lists/".concat(t)).then((function(t){return t.data}))},at="SET_LISTS",it="SET_IS_FETCHING",ot="SET_IS_OPEN_LIST",ct="SET_OPEN_LIST",rt="UPDATE_LIST_BY_ID",ut="SET_CHANGE_TASK_ID",dt="SET_NEW_TASK_SORAGE",lt="SET_NEW_LIST",jt="SET_CHANGE_LIST_ID",bt="REMOVE_LIST",Ot="SET_SORT_BY",ht={actualSort:"",toDoLists:{},isFetching:!1,isOpenList:!1,openList:{},changeTaskId:"",newTaskStorage:[],changeListId:"",sortBy:"created_at"},pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case at:return Object(x.a)(Object(x.a)({},t),{},{toDoLists:e.body});case it:return Object(x.a)(Object(x.a)({},t),{},{isFetching:e.body});case ot:return Object(x.a)(Object(x.a)({},t),{},{isOpenList:e.body});case ct:return Object(x.a)(Object(x.a)({},t),{},{openList:e.body});case rt:return Object(x.a)(Object(x.a)({},t),{},{toDoLists:t.toDoLists.map((function(t){return t.id===e.body.id?e.body:t}))});case ut:return Object(x.a)(Object(x.a)({},t),{},{changeTaskId:e.body});case dt:return Object(x.a)(Object(x.a)({},t),{},{newTaskStorage:e.body});case lt:return Object(x.a)(Object(x.a)({},t),{},{toDoLists:t.toDoLists.concat([e.body])});case jt:return Object(x.a)(Object(x.a)({},t),{},{changeListId:e.body});case bt:return Object(x.a)(Object(x.a)({},t),{},{toDoLists:t.toDoLists.filter((function(t){return t.id!==e.body}))});case Ot:return Object(x.a)(Object(x.a)({},t),{},{sortBy:e.body});default:return t}},_t=function(t){return{type:it,body:t}},mt=function(t){return{type:ot,body:t}},gt=function(t){return{type:ct,body:t}},ft=function(t,e){return function(n){n(_t(!0)),et(t,e).then((function(t){n({type:rt,body:t}),n(_t(!1))}))}},xt=function(t){Object(W.a)(n,t);var e=Object(q.a)(n);function n(){return Object(K.a)(this,n),e.apply(this,arguments)}return Object(G.a)(n,[{key:"render",value:function(){return Object(m.jsx)(Z,Object(x.a)({},this.props))}}]),n}(o.a.Component),Lt=Object(E.c)(Object(l.b)((function(t){return{isOpenList:t.board.isOpenList,openList:t.board.openList,changeTaskId:t.board.changeTaskId,newTaskStorage:t.board.newTaskStorage}}),{setIsOpenList:mt,updateList:ft,setOpenList:gt,setChangeTaskId:function(t){return{type:ut,body:t}},setNewTaskStorage:function(t){return{type:dt,body:t}}}))(xt),kt=function(t){var e="name",n="created_at",s={name:"Name",created_at:"Creation date"},a=Object(i.useState)(""),o=Object(j.a)(a,2),c=o[0],r=o[1],u=Object(i.useState)(!1),d=Object(j.a)(u,2),l=d[0],b=d[1],O=Object(i.useState)(!1),h=Object(j.a)(O,2),p=h[0],_=h[1],g=function(){return t.toDoLists.map((function(e){return Object(m.jsxs)("div",{className:Y.a.list,onDoubleClick:function(){return f(e)},children:[Object(m.jsx)("div",{className:Y.a.listName,onClick:function(){return function(e){t.setChangeListId(e.id),b(!0),r(e.name)}(e)},children:t.changeListId===e.id?Object(m.jsx)("input",{className:Y.a.listNameContentInput,autoFocus:!0,value:(n=e.name,""!==c||l?c:n),onBlur:function(){return(n=e).name=c,t.updateList(n.id,n),t.setChangeListId(""),r(""),void b(!1);var n},onChange:function(t){return r(t.target.value)}}):Object(m.jsx)("div",{className:Y.a.listNameContent,children:e.name})}),Object(m.jsxs)("div",{className:Y.a.listCreationDate,children:["Created at: ",e.created_at.split("T")[0]]}),Object(m.jsxs)("div",{className:Y.a.listTaskTypes,children:[Object(m.jsxs)("div",{className:Y.a.listTaskComplited,children:["Compleated: ",e.task.filter((function(t){return!0===t.isDone})).length]}),Object(m.jsxs)("div",{className:Y.a.listTaskUncomplited,children:["Uncomplited: ",e.task.filter((function(t){return!1===t.isDone})).length]}),Object(m.jsxs)("div",{className:Y.a.listTaskAll,children:["All: ",e.task.length]})]}),Object(m.jsx)("div",{className:Y.a.removeList,children:Object(m.jsx)("img",{alt:"",src:"/trash.png",onClick:function(){return t.removeList(e.id)}})})]},e.id);var n}))},f=function(e){t.setOpenList(JSON.parse(JSON.stringify(e))),t.setIsOpenList(!0),t.setChangeListId("")},x=function(e){t.setsortBy(e),t.getLists(e)};return Object(m.jsxs)("div",{className:Y.a.content,children:[Object(m.jsxs)("div",{className:Y.a.board,children:[Object(m.jsxs)("div",{className:Y.a.filters,children:[Object(m.jsx)("div",{className:Y.a.search,children:Object(m.jsx)("input",{type:"text",placeholder:"Search"})}),Object(m.jsxs)("div",{className:Y.a.sort,onClick:function(){_(!p)},children:[Object(m.jsx)("div",{className:Y.a.sortText,children:s[t.sortBy]}),Object(m.jsx)("img",{className:"".concat(Y.a.sortImg," ").concat(p&&Y.a.additionalOpenSortImage),src:"sortArrow.png",alt:""}),Object(m.jsxs)("div",{className:"".concat(Y.a.sortOptions," ").concat(p&&Y.a.additionalOpenSortOptions),children:[Object(m.jsx)("div",{className:Y.a.sortOption,children:Object(m.jsx)("div",{className:Y.a.sortOptionContent,onClick:function(){return x(e)},children:s.name})}),Object(m.jsx)("div",{className:Y.a.sortOption,children:Object(m.jsx)("div",{className:Y.a.sortOptionContent,onClick:function(){return x(n)},children:s.created_at})})]})]})]}),Object(m.jsx)("div",{className:Y.a.lists,children:t.toDoLists.length>0&&Object(m.jsx)(g,{})}),Object(m.jsx)("div",{className:Y.a.boardAdd,onClick:function(){t.createNewList({name:"New List",task:[]})},children:Object(m.jsx)("img",{className:Y.a.boardAddImg,alt:"",src:"/plusOrange.png"})})]}),t.isOpenList&&Object(m.jsx)(Lt,{})]})},vt=function(t){Object(W.a)(n,t);var e=Object(q.a)(n);function n(){return Object(K.a)(this,n),e.apply(this,arguments)}return Object(G.a)(n,[{key:"componentDidMount",value:function(){this.props.getLists(this.props.sortBy)}},{key:"render",value:function(){return Object(m.jsx)(kt,Object(x.a)({},this.props))}}]),n}(o.a.Component),Ct=Object(E.c)((function(t){return Object(l.b)(Q)((function(e){return e.isAuth?Object(m.jsx)(t,Object(x.a)({},e)):Object(m.jsx)(d.a,{to:"/auth/login"})}))}),Object(l.b)((function(t){return{toDoLists:t.board.toDoLists,isOpenList:t.board.isOpenList,changeListId:t.board.changeListId,sortBy:t.board.sortBy}}),{getLists:function(t){return function(e){e(_t(!0)),tt(t).then((function(t){e({type:at,body:t}),e(_t(!1))}))}},setIsOpenList:mt,setOpenList:gt,createNewList:function(t){return function(e){e(_t(!0)),nt(t).then((function(t){e({type:lt,body:t}),e(_t(!1))}))}},setChangeListId:function(t){return{type:jt,body:t}},updateList:ft,removeList:function(t){return function(e){e(_t(!0)),st(t).then((function(t){e(function(t){return{type:bt,body:t}}(t.id)),e(_t(!1))}))}},setsortBy:function(t){return{type:Ot,body:t}}}))(vt),Tt=function(){return Object(m.jsx)("div",{children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:"/board",component:Ct}),Object(m.jsx)(d.b,{exact:!0,path:"/board/list/:id",component:Z})]})})},yt=n(30),Nt=n.n(yt),Dt=function(t){return Object(m.jsxs)("div",{className:Nt.a.header,children:[Object(m.jsx)("div",{className:Nt.a.title,children:"ToDo-List"}),t.isAuth&&Object(m.jsx)("img",{className:Nt.a.loginStatus,src:"/logout.png",alt:"",onClick:function(){return t.setIsAuth(!1)}})]})},Bt=function(t){Object(W.a)(n,t);var e=Object(q.a)(n);function n(){return Object(K.a)(this,n),e.apply(this,arguments)}return Object(G.a)(n,[{key:"render",value:function(){return Object(m.jsx)(Dt,Object(x.a)({},this.props))}}]),n}(o.a.Component),St=Object(E.c)(Object(l.b)((function(t){return{isAuth:t.user.isAuth}}),{setIsAuth:function(t){return{type:N,body:t}}}))(Bt),It=O.a.div(a||(a=Object(b.a)(["\n    background-color: ",";\n    width: 100%;\n    height: 100vh;\n    display: grid;\n    grid-template-columns: 100%;\n    grid-template-rows: 10% 90%;\n"])),(function(t){return t.backgroundColor}));var At=function(){return Object(m.jsx)(It,{children:Object(m.jsxs)(u.a,{children:[Object(m.jsx)(St,{}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:"/",children:Object(m.jsx)(d.a,{to:"/board"})}),Object(m.jsx)(d.b,{path:"/auth",component:J}),Object(m.jsx)(d.b,{path:"/board",component:Tt})]})]})})},wt=(n(83),n(50)),Et=Object(E.b)({user:I,board:pt}),Ft=Object(E.d)(Et,Object(E.a)(wt.a)),Ut=Ft;window.store=Ft,r.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(l.a,{store:Ut,children:Object(m.jsx)(At,{})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.753df8bd.chunk.js.map