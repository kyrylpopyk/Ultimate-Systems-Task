(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{21:function(t,e,n){t.exports={loginTitle:"Login_loginTitle__3aKKt",loginForm:"Login_loginForm__1h7vG",additional:"Login_additional__VoTgz",loginBtn:"Login_loginBtn__2bhuQ",loginCreate:"Login_loginCreate__fUZ-y"}},22:function(t,e,n){t.exports={registerTitle:"Register_registerTitle__3u154",registerForm:"Register_registerForm__1EEX4",additional:"Register_additional__31AVg",registerBtn:"Register_registerBtn__13XWO",loginCreate:"Register_loginCreate__3sY5f",backImage:"Register_backImage__3-AK8",backBtn:"Register_backBtn__3mxPa"}},30:function(t,e,n){t.exports={header:"Header_header__3K0pt",title:"Header_title__1BLIe",loginStatus:"Header_loginStatus__vzvJz"}},5:function(t,e,n){t.exports={board:"Board_board__14fsI",filters:"Board_filters__3J8cT",search:"Board_search__2YtUr",sort:"Board_sort__35Rcq",sortText:"Board_sortText__2u6fN",sortImg:"Board_sortImg__2WW-7",sortOptions:"Board_sortOptions__3cTP7",sortOption:"Board_sortOption__1uxT3",sortOptionContent:"Board_sortOptionContent__32Vob",additionalOpenSortImage:"Board_additionalOpenSortImage__33F5Z",additionalOpenSortOptions:"Board_additionalOpenSortOptions__3W7Tb",lists:"Board_lists__12sBO",list:"Board_list__hiQJW",listName:"Board_listName__201uL",listNameContent:"Board_listNameContent__1aoxb",listNameContentInput:"Board_listNameContentInput__2SYLI",listCreationDate:"Board_listCreationDate__1hv8y",listTaskTypes:"Board_listTaskTypes__YYah1",removeList:"Board_removeList__2vZsd",boardAdd:"Board_boardAdd__3TAh9",boardAddImg:"Board_boardAddImg__2s70i"}},6:function(t,e,n){t.exports={toDoList:"ToDoList_toDoList__OA6mn",title:"ToDoList_title__lIW45",titleContent:"ToDoList_titleContent__3smm3",tasks:"ToDoList_tasks__3OCA6",task:"ToDoList_task__28168",taskCheckBox:"ToDoList_taskCheckBox__1CdgF",taskCheckBoxEmpty:"ToDoList_taskCheckBoxEmpty__2h3wZ",taskCheckBoxActive:"ToDoList_taskCheckBoxActive__2KEwK",taskTitle:"ToDoList_taskTitle__1nTXR",taskTitleContent:"ToDoList_taskTitleContent__zhZkB",taskTitleInput:"ToDoList_taskTitleInput__3CAQi",tasksActionsBtns:"ToDoList_tasksActionsBtns__1DxW7",tasksCancelBtn:"ToDoList_tasksCancelBtn__2RYHy",tasksAddBtn:"ToDoList_tasksAddBtn__DPqMt",toDoListActionsBtns:"ToDoList_toDoListActionsBtns__1qcHj",toDoListCancelBtn:"ToDoList_toDoListCancelBtn__8dpt9",toDoListSaveBtn:"ToDoList_toDoListSaveBtn__2nnPT"}},83:function(t,e,n){},84:function(t,e,n){"use strict";n.r(e);var s,a,i=n(1),c=n.n(i),o=n(26),r=n.n(o),u=n(23),d=n(3),l=n(7),j=n(14),b=n(27),O=n(28),h=O.a.div(s||(s=Object(b.a)(["\n    background-color: ",";\n    min-width: 400px;\n    min-height: 500px;\n    width: ",";\n    height: ",";\n    justify-self: center;\n    align-self: center;\n    display: grid;\n    grid-template-columns: ",";\n    grid-template-rows: ",";\n"])),(function(t){return t.backgroundColor}),(function(t){return t.width}),(function(t){return t.height}),(function(t){return t.columns}),(function(t){return t.rows})),p=n(21),_=n.n(p),m=n(0),g=function(t){var e=Object(i.useState)(""),n=Object(j.a)(e,2),s=n[0],a=n[1],c=Object(i.useState)(""),o=Object(j.a)(c,2),r=o[0],d=o[1];return Object(m.jsxs)("div",{className:_.a.loginForm,children:[Object(m.jsx)("div",{children:Object(m.jsx)("input",{value:s,type:"text",name:"userName",placeholder:"Email or Username",onChange:function(t){return a(t.target.value)}})}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{value:r,component:"input",type:"password",name:"password",placeholder:"Password",onChange:function(t){return d(t.target.value)}})}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){return t.getUser(s,r)},className:_.a.loginBtn,children:"Login"})}),Object(m.jsx)("div",{children:Object(m.jsx)("span",{className:_.a.additional,children:"or"})}),Object(m.jsx)("div",{children:Object(m.jsx)(u.b,{to:"/auth/register",className:_.a.loginCreate,children:"Create an account"})})]})},f=function(t){return Object(m.jsxs)(h,{backgroundColor:"#2D2D2D",columns:"100%",rows:"3fr 8fr",children:[Object(m.jsx)("div",{className:_.a.loginTitle,children:"Login"}),Object(m.jsx)(g,{getUser:t.getUser})]})},x=n(2),L=n(29),k=L.create({baseURL:"https://recruitment.ultimate.systems/"}),v=function(t,e){return k.post("auth/local",{identifier:t,password:e}).then((function(t){return t.data}))},T=function(t,e,n){return k.post("/auth/local/register",{username:t,email:e,password:n}).then((function(t){return t.data}))},C="SET_USER",y="SET_FETCHING",N="SET_IS_AUTH",B={isAuth:!1,user:"",isFetching:!1},S=function(t){return{type:C,body:t}},D=function(t){return{type:y,body:t}},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case C:return Object(x.a)(Object(x.a)({},t),{},{user:e.body,isAuth:!0});case y:return Object(x.a)(Object(x.a)({},t),{},{isFetching:e.body});case N:return Object(x.a)(Object(x.a)({},t),{},{isAuth:e.body});default:return t}},A=function(t){return{isAuth:t.user.isAuth}},w=function(t){return Object(l.b)(A)((function(e){return e.isAuth?Object(m.jsx)(d.a,{to:"/board"}):Object(m.jsx)(t,Object(x.a)({},e))}))},E=n(8),F=Object(E.c)(w,Object(l.b)((function(t){return{user:t.user.user,isAuth:t.user.isAuth,isFetching:t.user.isFetching}}),{getUser:function(t,e){return function(n){n(D(!0)),v(t,e).then((function(t){"jwt"in t&&(localStorage.setItem("token",t.jwt),n(S(t.user.username))),n(D(!1))}))}}}))((function(t){return Object(m.jsx)(f,{isFetching:t.isFetching,isAuth:t.isAuth,user:t.user,getUser:t.getUser})})),U=n(22),R=n.n(U),P=function(t){var e=Object(i.useState)(""),n=Object(j.a)(e,2),s=n[0],a=n[1],c=Object(i.useState)(""),o=Object(j.a)(c,2),r=o[0],u=o[1],d=Object(i.useState)(""),l=Object(j.a)(d,2),b=l[0],O=l[1],h=Object(i.useState)(""),p=Object(j.a)(h,2),_=p[0],g=p[1];return Object(m.jsxs)("div",{className:R.a.registerForm,children:[Object(m.jsx)("div",{children:Object(m.jsx)("input",{onChange:function(t){a(t.target.value)},value:s,type:"text",name:"userName",placeholder:"Username"})}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{onChange:function(t){u(t.target.value)},value:r,type:"text",name:"email",placeholder:"Email"})}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{onChange:function(t){O(t.target.value)},value:b,type:"password",name:"password",placeholder:"Password"})}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{onChange:function(t){g(t.target.value)},value:_,type:"password",name:"repeatPassword",placeholder:"Repeat Password"})}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){!function(e,n,s,a){s===a&&t.createUser(e,n,s)}(s,r,b,_)},className:R.a.registerBtn,children:"Create"})})]})},H=function(t){var e=Object(d.g)();return Object(m.jsxs)(h,{backgroundColor:"#2D2D2D",columns:"100%",rows:"1fr 2fr 8fr",children:[Object(m.jsx)("div",{className:R.a.backBtn,children:Object(m.jsx)("img",{onClick:function(){e.push("/auth/login")},alt:"",className:R.a.backImage,src:"/react-ultimate-systems-alpha/LeftArrow.png"})}),Object(m.jsx)("div",{className:R.a.registerTitle,children:"Create a new account"}),Object(m.jsx)(P,{createUser:t.createUser})]})},J=Object(E.c)(w,Object(l.b)((function(t){return{isAuth:t.user.isAuth,isFetching:t.user.isFetching}}),{createUser:function(t,e,n){return function(s){s(D(!0)),T(t,e,n).then((function(t){"jwt"in t&&(localStorage.setItem("token",t.jwt),s(S(t.user.username)),s(D(!1)))}))}}}))((function(t){return Object(m.jsx)(H,{isFetching:t.isFetching,isAuth:t.isAuth,createUser:t.createUser})})),W=function(){return Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:"/auth",children:Object(m.jsx)(d.a,{to:"/auth/login"})}),Object(m.jsx)(d.b,{exact:!0,path:"/auth/login",children:Object(m.jsx)(F,{})}),Object(m.jsx)(d.b,{exact:!0,path:"/auth/register",children:Object(m.jsx)(J,{})})]})},K=n(17),Y=n(18),G=n(20),z=n(19),V=function(t){return{isAuth:t.user.isAuth}},Z=n(5),M=n.n(Z),q=n(6),Q=n.n(q),X=function(t){var e=function(e){t.setChangeTaskId(e)},n=function(n){return n.tasks.map((function(s){return Object(m.jsxs)("div",{className:Q.a.task,children:[Object(m.jsx)("div",{className:Q.a.taskCheckBox,onClick:function(){!function(e){e.isDone=!e.isDone;var n=JSON.parse(JSON.stringify(t.openList));t.setOpenList(n)}(s)},children:Object(m.jsx)("div",{className:"".concat(Q.a.taskCheckBoxEmpty," ").concat(s.isDone&&Q.a.taskCheckBoxActive)})}),Object(m.jsx)("div",{className:Q.a.taskTitle,onClick:function(){return e(s.id)},children:t.changeTaskId===s.id?Object(m.jsx)("input",{type:"text",className:Q.a.taskTitleInput,value:s.name,onChange:function(e){return function(e,n){var s=Object(x.a)({},t.openList);s.task.map((function(t){return t.id===e?t.name=n:t})),t.setOpenList(s)}(s.id,e.target.value)},autoFocus:!0,onBlur:function(){return e("")},placeholder:"Task name"}):Object(m.jsx)("div",{className:Q.a.taskTitleContent,children:s.name})})]},"id"in s?s.id:"local".concat(n.tasks.indexOf(s)))}))};return Object(m.jsxs)("div",{className:Q.a.toDoList,children:[Object(m.jsx)("div",{className:Q.a.title,children:Object(m.jsx)("span",{className:Q.a.titleContent,children:t.openList.name})}),Object(m.jsxs)("div",{className:Q.a.tasks,children:[t.openList.task.length>0&&Object(m.jsx)(n,{tasks:t.openList.task}),t.newTaskStorage.length>0&&Object(m.jsx)(n,{tasks:t.newTaskStorage}),Object(m.jsxs)("div",{className:Q.a.tasksActionsBtns,children:[Object(m.jsx)("button",{className:Q.a.tasksCancelBtn,children:"CANCEL"}),Object(m.jsx)("button",{className:Q.a.tasksAddBtn,onClick:function(){return function(){var e=Object(x.a)({},t.openList);e.task.push({name:"New task",isDone:!1}),t.setOpenList(e)}()},children:"ADD"})]})]}),Object(m.jsxs)("div",{className:Q.a.toDoListActionsBtns,children:[Object(m.jsx)("button",{className:Q.a.toDoListCancelBtn,onClick:function(){return t.setIsOpenList(!1),void t.setOpenList({})},children:"CANCEL"}),Object(m.jsx)("button",{className:Q.a.toDoListSaveBtn,onClick:function(){return t.updateList(t.openList.id,t.openList),t.setIsOpenList(!1),void e("")},children:"SAVE"})]})]})},$=L.create({baseURL:"https://recruitment.ultimate.systems/",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),tt=function(t){return $.get("to-do-lists",{params:{_sort:t}}).then((function(t){return t.data}))},et=function(t,e){return $.put("to-do-lists/".concat(t),e).then((function(t){return t.data}))},nt=function(t){return $.post("to-do-lists/",t).then((function(t){return t.data}))},st=function(t){return $.delete("to-do-lists/".concat(t)).then((function(t){return t.data}))},at="SET_LISTS",it="SET_IS_FETCHING",ct="SET_IS_OPEN_LIST",ot="SET_OPEN_LIST",rt="UPDATE_LIST_BY_ID",ut="SET_CHANGE_TASK_ID",dt="SET_NEW_TASK_SORAGE",lt="SET_NEW_LIST",jt="SET_CHANGE_LIST_ID",bt="REMOVE_LIST",Ot="SET_SORT_BY",ht={actualSort:"",toDoLists:{},isFetching:!1,isOpenList:!1,openList:{},changeTaskId:"",newTaskStorage:[],changeListId:"",sortBy:"created_at"},pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case at:return Object(x.a)(Object(x.a)({},t),{},{toDoLists:e.body});case it:return Object(x.a)(Object(x.a)({},t),{},{isFetching:e.body});case ct:return Object(x.a)(Object(x.a)({},t),{},{isOpenList:e.body});case ot:return Object(x.a)(Object(x.a)({},t),{},{openList:e.body});case rt:return Object(x.a)(Object(x.a)({},t),{},{toDoLists:t.toDoLists.map((function(t){return t.id===e.body.id?e.body:t}))});case ut:return Object(x.a)(Object(x.a)({},t),{},{changeTaskId:e.body});case dt:return Object(x.a)(Object(x.a)({},t),{},{newTaskStorage:e.body});case lt:return Object(x.a)(Object(x.a)({},t),{},{toDoLists:t.toDoLists.concat([e.body])});case jt:return Object(x.a)(Object(x.a)({},t),{},{changeListId:e.body});case bt:return Object(x.a)(Object(x.a)({},t),{},{toDoLists:t.toDoLists.filter((function(t){return t.id!==e.body}))});case Ot:return Object(x.a)(Object(x.a)({},t),{},{sortBy:e.body});default:return t}},_t=function(t){return{type:it,body:t}},mt=function(t){return{type:ct,body:t}},gt=function(t){return{type:ot,body:t}},ft=function(t,e){return function(n){n(_t(!0)),et(t,e).then((function(t){n({type:rt,body:t}),n(_t(!1))}))}},xt=function(t){Object(G.a)(n,t);var e=Object(z.a)(n);function n(){return Object(K.a)(this,n),e.apply(this,arguments)}return Object(Y.a)(n,[{key:"render",value:function(){return Object(m.jsx)(X,Object(x.a)({},this.props))}}]),n}(c.a.Component),Lt=Object(E.c)(Object(l.b)((function(t){return{isOpenList:t.board.isOpenList,openList:t.board.openList,changeTaskId:t.board.changeTaskId,newTaskStorage:t.board.newTaskStorage}}),{setIsOpenList:mt,updateList:ft,setOpenList:gt,setChangeTaskId:function(t){return{type:ut,body:t}},setNewTaskStorage:function(t){return{type:dt,body:t}}}))(xt),kt=function(t){var e="name",n="created_at",s={name:"Name",created_at:"Creation date"},a=Object(i.useState)(""),c=Object(j.a)(a,2),o=c[0],r=c[1],u=Object(i.useState)(!1),d=Object(j.a)(u,2),l=d[0],b=d[1],O=Object(i.useState)(!1),h=Object(j.a)(O,2),p=h[0],_=h[1],g=function(){return t.toDoLists.map((function(e){return Object(m.jsxs)("div",{className:M.a.list,onDoubleClick:function(){return f(e)},children:[Object(m.jsx)("div",{className:M.a.listName,onClick:function(){return function(e){t.setChangeListId(e.id),b(!0),r(e.name)}(e)},children:t.changeListId===e.id?Object(m.jsx)("input",{className:M.a.listNameContentInput,autoFocus:!0,value:(n=e.name,""!==o||l?o:n),onBlur:function(){return(n=e).name=o,t.updateList(n.id,n),t.setChangeListId(""),r(""),void b(!1);var n},onChange:function(t){return r(t.target.value)}}):Object(m.jsx)("div",{className:M.a.listNameContent,children:e.name})}),Object(m.jsxs)("div",{className:M.a.listCreationDate,children:["Created at: ",e.created_at.split("T")[0]]}),Object(m.jsxs)("div",{className:M.a.listTaskTypes,children:[Object(m.jsxs)("div",{className:M.a.listTaskComplited,children:["Compleated: ",e.task.filter((function(t){return!0===t.isDone})).length]}),Object(m.jsxs)("div",{className:M.a.listTaskUncomplited,children:["Uncomplited: ",e.task.filter((function(t){return!1===t.isDone})).length]}),Object(m.jsxs)("div",{className:M.a.listTaskAll,children:["All: ",e.task.length]})]}),Object(m.jsx)("div",{className:M.a.removeList,children:Object(m.jsx)("img",{alt:"",src:"/react-ultimate-systems-alpha/trash.png",onClick:function(){return t.removeList(e.id)}})})]},e.id);var n}))},f=function(e){t.setOpenList(JSON.parse(JSON.stringify(e))),t.setIsOpenList(!0),t.setChangeListId("")},x=function(e){t.setsortBy(e),t.getLists(e)};return Object(m.jsxs)("div",{className:M.a.content,children:[Object(m.jsxs)("div",{className:M.a.board,children:[Object(m.jsxs)("div",{className:M.a.filters,children:[Object(m.jsx)("div",{className:M.a.search,children:Object(m.jsx)("input",{type:"text",placeholder:"Search"})}),Object(m.jsxs)("div",{className:M.a.sort,onClick:function(){_(!p)},children:[Object(m.jsx)("div",{className:M.a.sortText,children:s[t.sortBy]}),Object(m.jsx)("img",{className:"".concat(M.a.sortImg," ").concat(p&&M.a.additionalOpenSortImage),src:"/react-ultimate-systems-alphasortArrow.png",alt:""}),Object(m.jsxs)("div",{className:"".concat(M.a.sortOptions," ").concat(p&&M.a.additionalOpenSortOptions),children:[Object(m.jsx)("div",{className:M.a.sortOption,children:Object(m.jsx)("div",{className:M.a.sortOptionContent,onClick:function(){return x(e)},children:s.name})}),Object(m.jsx)("div",{className:M.a.sortOption,children:Object(m.jsx)("div",{className:M.a.sortOptionContent,onClick:function(){return x(n)},children:s.created_at})})]})]})]}),Object(m.jsx)("div",{className:M.a.lists,children:t.toDoLists.length>0&&Object(m.jsx)(g,{})}),Object(m.jsx)("div",{className:M.a.boardAdd,onClick:function(){t.createNewList({name:"New List",task:[]})},children:Object(m.jsx)("img",{className:M.a.boardAddImg,alt:"",src:"/react-ultimate-systems-alpha/plusOrange.png"})})]}),t.isOpenList&&Object(m.jsx)(Lt,{})]})},vt=function(t){Object(G.a)(n,t);var e=Object(z.a)(n);function n(){return Object(K.a)(this,n),e.apply(this,arguments)}return Object(Y.a)(n,[{key:"componentDidMount",value:function(){this.props.getLists(this.props.sortBy)}},{key:"render",value:function(){return Object(m.jsx)(kt,Object(x.a)({},this.props))}}]),n}(c.a.Component),Tt=Object(E.c)((function(t){return Object(l.b)(V)((function(e){return e.isAuth?Object(m.jsx)(t,Object(x.a)({},e)):Object(m.jsx)(d.a,{to:"/auth/login"})}))}),Object(l.b)((function(t){return{toDoLists:t.board.toDoLists,isOpenList:t.board.isOpenList,changeListId:t.board.changeListId,sortBy:t.board.sortBy}}),{getLists:function(t){return function(e){e(_t(!0)),tt(t).then((function(t){e({type:at,body:t}),e(_t(!1))}))}},setIsOpenList:mt,setOpenList:gt,createNewList:function(t){return function(e){e(_t(!0)),nt(t).then((function(t){e({type:lt,body:t}),e(_t(!1))}))}},setChangeListId:function(t){return{type:jt,body:t}},updateList:ft,removeList:function(t){return function(e){e(_t(!0)),st(t).then((function(t){e(function(t){return{type:bt,body:t}}(t.id)),e(_t(!1))}))}},setsortBy:function(t){return{type:Ot,body:t}}}))(vt),Ct=function(){return Object(m.jsx)("div",{children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:"/board",component:Tt}),Object(m.jsx)(d.b,{exact:!0,path:"/board/list/:id",component:X})]})})},yt=n(30),Nt=n.n(yt),Bt=function(t){return Object(m.jsxs)("div",{className:Nt.a.header,children:[Object(m.jsx)("div",{className:Nt.a.title,children:"ToDo-List"}),t.isAuth&&Object(m.jsx)("img",{className:Nt.a.loginStatus,src:"/react-ultimate-systems-alpha/logout.png",alt:"",onClick:function(){return t.setIsAuth(!1)}})]})},St=function(t){Object(G.a)(n,t);var e=Object(z.a)(n);function n(){return Object(K.a)(this,n),e.apply(this,arguments)}return Object(Y.a)(n,[{key:"render",value:function(){return Object(m.jsx)(Bt,Object(x.a)({},this.props))}}]),n}(c.a.Component),Dt=Object(E.c)(Object(l.b)((function(t){return{isAuth:t.user.isAuth}}),{setIsAuth:function(t){return{type:N,body:t}}}))(St),It=O.a.div(a||(a=Object(b.a)(["\n    background-color: ",";\n    width: 100%;\n    height: 100vh;\n    display: grid;\n    grid-template-columns: 100%;\n    grid-template-rows: 10% 90%;\n"])),(function(t){return t.backgroundColor}));var At=function(){return Object(m.jsx)(It,{children:Object(m.jsxs)(u.a,{children:[Object(m.jsx)(Dt,{}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:"/",children:Object(m.jsx)(d.a,{to:"/board"})}),Object(m.jsx)(d.b,{path:"/auth",component:W}),Object(m.jsx)(d.b,{path:"/board",component:Ct})]})]})})},wt=(n(83),n(50)),Et=Object(E.b)({user:I,board:pt}),Ft=Object(E.d)(Et,Object(E.a)(wt.a)),Ut=Ft;window.store=Ft,r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(l.a,{store:Ut,children:Object(m.jsx)(At,{})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.f7c6120e.chunk.js.map